(function(a,b){'function'==typeof define&&define.amd?define(['chartist'],function(c){return a.returnExportsGlobal=b(c)}):'object'==typeof exports?module.exports=b(require('chartist')):a['Chartist.plugins.tooltip']=b(Chartist)})(this,function(a){return function(b,c,d){'use strict';function f(l){h(l,'tooltip-show')||(l.className+=' tooltip-show')}function g(l){var m=/tooltip-show\s*/gi;l.className=l.className.replace(m,'').trim()}function h(l,m){return-1<(' '+l.getAttribute('class')+' ').indexOf(' '+m+' ')}function i(l,m){do l=l.nextSibling;while(l&&!h(l,m));return l}function j(l){return l.innerText||l.textContent}var k={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!1,class:void 0,pointClass:'ct-point'};d.plugins=d.plugins||{},d.plugins.tooltip=function(l){return l=d.extend({},k,l),function(n){function o(v,w,x){r.addEventListener(v,function(y){(!w||h(y.target,w))&&x(y)})}function p(v){t=t||s.offsetHeight,u=u||s.offsetWidth;var y,z,w=-u/2+l.tooltipOffset.x,x=-t+l.tooltipOffset.y;if(!l.appendToBody){var A=r.getBoundingClientRect(),B=v.pageX-A.left-b.pageXOffset,C=v.pageY-A.top-b.pageYOffset;!0===l.anchorToPoint&&v.target.x2&&v.target.y2&&(y=parseInt(v.target.x2.baseVal.value),z=parseInt(v.target.y2.baseVal.value)),s.style.top=(z||C)+x+'px',s.style.left=(y||B)+w+'px'}else s.style.top=v.pageY+x+'px',s.style.left=v.pageX+w+'px'}var q=l.pointClass;n instanceof d.Bar?q='ct-bar':n instanceof d.Pie&&(n.options.donut?q='ct-slice-donut':q='ct-slice-pie');var r=n.container,s=r.querySelector('.chartist-tooltip');s||(s=c.createElement('div'),s.className=l.class?'chartist-tooltip '+l.class:'chartist-tooltip',l.appendToBody?c.body.appendChild(s):r.appendChild(s));var t=s.offsetHeight,u=s.offsetWidth;g(s),o('mouseover',q,function(v){var w=v.target,x='',y=n instanceof d.Pie?w:w.parentNode,z=y?w.parentNode.getAttribute('ct:meta')||w.parentNode.getAttribute('ct:series-name'):'',A=w.getAttribute('ct:meta')||z||'',B=!!A,C=w.getAttribute('ct:value');if(w.setAttribute('tooltip','visible'),l.transformTooltipTextFnc&&'function'==typeof l.transformTooltipTextFnc&&(C=l.transformTooltipTextFnc(C)),l.tooltipFnc&&'function'==typeof l.tooltipFnc)x=l.tooltipFnc(A,C);else{if(l.metaIsHTML){var D=c.createElement('textarea');D.innerHTML=A,A=D.value}if(A='<span class="chartist-tooltip-meta">'+A+'</span>',B)x+=A+'<br>';else if(n instanceof d.Pie){var E=i(w,'ct-label');E&&(x+=j(E)+'<br>')}C&&(l.currency&&(void 0==l.currencyFormatCallback?C=l.currency+C.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,'$1,'):C=l.currencyFormatCallback(C,l)),C='<span class="chartist-tooltip-value">'+C+'</span>',x+=C)}x&&(s.innerHTML=x,p(v),f(s),t=s.offsetHeight,u=s.offsetWidth)}),o('mouseout',q,function(){var v=event.target;v.setAttribute('tooltip','hidden'),g(s)}),o('mousemove',null,function(v){!1===l.anchorToPoint&&p(v)})}}}(window,document,a),a.plugins.tooltip});